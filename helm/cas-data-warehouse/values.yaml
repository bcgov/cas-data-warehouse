
import:
  ggircs:
    service: ggircs
    namespace: ~



pg:
  postgresCluster:
    postgresVersion: 17
    storageSize: 2Gi
    postgres:
      replicaCount: 2
    pgbouncer:
      replicaCount: 2
    resources:
      requests:
        cpu: 100m
        memory: 256Mi

    # The "users" value(s) is passed to the crunch postgres operator to create the database.
    # See http://access.crunchydata.com/documentation/postgres-operator/latest/tutorials/basic-setup/user-management
    users:
      - name: postgres
        options: "SUPERUSER"
      - name: datawarehouse
        databases:
          - datawarehouse

  gcsBackups:
    enable: true
    # Needs to match the "namespace_apps" value in the terraform provisioning chart.
    # example syntax: bucketName
    bucketName: datawhse-backups

  terraform-bucket-provision:
    terraform:
      # example syntax: '["bucketName"]'
      namespace_apps: '["datawhse-backups"]'
      # !important: unique for the deployment
      workspace: datawhse-backups

  # To configure a KNP allowing external access, for metabase for example
  external-access:
    enabled: false