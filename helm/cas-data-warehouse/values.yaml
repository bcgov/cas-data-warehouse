

pg:
  postgresCluster:
    postgresVersion: 17
    postgres:
      replicaCount: 2
    pgbouncer:
      replicaCount: 2
    resources:
      requests:
        cpu: 100m
        memory: 256Mi

    # The "users" value(s) is passed to the crunch postgres operator to create the database.
    # See http://access.crunchydata.com/documentation/postgres-operator/latest/tutorials/basic-setup/user-management
    users:
      - name: postgres
        options: "SUPERUSER"
      - name: datawarehouse
        databases:
          - datawarehouse

  gcsBackups:
    enable: true
    # Needs to match the "namespace_apps" value in the terraform provisioning chart.
    # example syntax: bucketName
    bucketName: datawarehouse-pgo-backups

  terraform-bucket-provision:
    terraform:
      # example syntax: '["bucketName"]'
      namespace_apps: '["datawarehouse-pgo-backups"]'
      # !important: unique for the deployment
      workspace: datawarehouse-pgo

  # To configure a KNP allowing external access, for metabase for example
  external-access:
    enabled: false